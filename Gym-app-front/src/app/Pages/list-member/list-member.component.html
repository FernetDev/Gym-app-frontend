<div class="main-content">
  <div class="members-box">
    <h2>Lista de Miembros</h2>

    <!-- Barra de opciones con filtro y búsqueda -->
    <div class="options-bar">
      <div class="show-options">
        <label for="show-count">Show:</label>
        <select
          id="show-count"
          [(ngModel)]="pageSize"
          (ngModelChange)="setPageSize($event)">
          <option value="10">10</option>
          <option value="20">20</option>
          <option value="100">See All</option>
        </select>
      </div>
      <div class="search-bar">
        <input
          type="text"
          placeholder="Search user..."
          [(ngModel)]="searchTerm" />
      </div>
    </div>

    <!-- Tabla de usuarios -->
    <mat-table [dataSource]="getFilteredUsers()" class="mat-elevation-z8 user-table">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let member" class="hover-row"> {{member.name}} </td>
      </ng-container>
      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef> Role </th>
        <td mat-cell *matCellDef="let member"> {{member.role}} </td>
      </ng-container>
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let member" class="action-buttons">
          <button mat-icon-button (click)="openPopup('edit', member)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button (click)="openPopup('delete', member)">
            <mat-icon>delete</mat-icon>
          </button>
          <button mat-icon-button (click)="openPopup('addRole', member)">
            <mat-icon>person_add</mat-icon>
          </button>
          <button mat-icon-button (click)="openPopup('removeRole', member)">
            <mat-icon>person_remove</mat-icon>
          </button>
          <button mat-icon-button (click)="openPopup('resetPassword', member)">
            <mat-icon>lock_reset</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </mat-table>
  </div>

  <!-- Botón para agregar nuevo usuario -->
  <div class="new-member-container">
    <a routerLink="/dashboard/register" class="register-member-button">
      Add New User
    </a>
  </div>
</div>
